# 모리딥 15장

# 마치며…

## 리액트 프로젝트를 시작할 때 고려해야 할 사항

### 최소 관리해야할 리액트버전

리액트 16.8이후로 훅이 도입되고 함수형 컴포넌트 개념이 정립되었다. 그렇기 때문에 최소한 16.8.6이상으로 버전을 맞추는 것이 좋다. 또한 리액트팀에서 공언한 대로 새로운 기능 출시 및 호환성이 깨지는 변경 사항을 최소한 맞춘 업데이트이므로 가능한 17버전으로 가는 것도 좋다고 한다.

### 인터넷 익스플로러 11지원 여부

익스플로러 11지원이 공식적으로 종료되었고 이와 관련해서 많은 라이브러리들도 지원을 하지 않기로 했다.

- 리액트 : 18버전부터 익스플로러 11 지원 중지
- Next.js : 13버전부터 익스플로러 11 지원 중지
- query-string : 주소의 쿼리 문자열을 다루는 라이브러리로 11지원 중지

### 서버 사이드 렌더링 애플리케이션 우선적으로 고려

SPA애플리케이션의 경우 웹 바이탈 지표나 라이트하우스 등 성능 지표에서 좋은 결과를 얻기 어렵다. 하드웨어의 발전이 있기는 하지만 자바스크립트 실행 속도가 기기에 의존적일 수록 평균적인 사용자 경험을 제공하기가 어렵다.

빠르게 사용자에게 웹페이지를 제공해야 하는 경우 서버에서 준비하여 렌더링하는 서버 사이드 렌더링을 고려하는 것이 좋을 것이다.

### 상태 관리 라이브러리는 꼭 필요할 때만 사용한다.

과거 리액트라고 하면 리덕스 전역 상태 관리 라이브러리를 무조건 설치해 사용하던 때가 있었다. 그러나 리덕스 이외에 여러 다양한 상태 관리 라이브러리가 등장했고, Context API와 훅의 등장으로 Props drilling문제를 해결할 수 있다.

애플리케이션의 특성상 차이가 있기는 하지만, 요즘 추세에서는 클라이언트에서 다뤄야할 전역상태는 갈수록 줄어들고, 사실상 서버 데이터 관리의 중요성이 커지기 때문에 이 부분을 고려하여 도입할 필요성이 있다.

## 언젠가 사라질 수도 있는 리액트

### 클래스 컴포넌트에서 함수 컴포넌트로 넘어오면서 느껴지는 혼란

리액트 공식 홈페이지에서는 <리액트 배우기> 과정이 있다. 이 과정은 <실용적인 자습서>와 <주요 개념 가이드>로 나뉜다. 문제는 전자가 클래스 컴포넌트를 기준으로, 후자는 함수형 컴포넌트를 기준으로 다뤄졌다는 점이다. 클래스기반과 함수형 기반 컴포넌트는 완전히 다른 개념이고 내부 동작 원리에도 차이가 있기 때문에 이해가 어려울 수 있다.

이에 반해 Svelte와 Vue의 문서는 깔끔하게 정리되어있다. 또한 제공하는 문법 또한 직관적으로 이해하기 쉽다.

### 너무 방대한 자유가 주는 혼란

리액트는 자유도가 매우 높다. css를 입히는 방법부터, 데이터를 Fetching하는 방식 그리고 너무 많은 상태 관리 라이브러리의 존재가 이를 대변한다.

또한 리액트에서 주로 사용되는 jsx문법과 리액트 API는 선호되지 않을 수 있다.

### 오픈소스 생태계

오픈소스 라이선스 갇운데 가장 널리 쓰이는 라이선스는 MIT라이선스다. 오픈소스에 많이 쓰이고 있으며, 소프트웨어를 상업적으로 이용하거나, 배포하거나, 개인적으로 이용하는 등 제약없이 다룰 수 있다. 그러나 페이스북은 MIT라이선스 대신 `BSD+Patents` 라이선스를 사용하고 있다. 이 라이선스는 다른 라이선스와는 다르게 한 소프트웨어에 대해서 특정한 사건이 발생한다면 라이선스가 통지 없이 종료될 수 있다라는 조항이 있다.

17년 7월, 아파치 재단에서 BSD_Patents에 대해 금지한다고 밝혔지만, 페이스북은 이 조항을 철회할 의사가 없다고 밝혔다. 이에 전 세계 웹사이트의 25%를 이루고 있는 워드프레스 진영에서 라이선스를 바꾸지 않으면 더 이상 자사 소프트웨어에서 리액트를 사용하지 않을 것이라고 밝혔고, 페이스북은 이를 철회했다.

### 오픈소스는 무료로 계속 제공될 수 있는가?

- color.js
  color.js는 1.4.0버전에서 1.4.1로 패치 업데이트가 이뤄졌는데, 유의적 버전에 따라 패치 버전은 단순히 버그 수준에 그쳤어야 했지만 고의로 무한 루프를 삽입한 코드를 커밋해 1.4.1을 배포해 버렸다.
- faker.js
  faker.js의 경우 5.5.3 버전에서 갑자기 6.6.6으로 넘어갔는데, 이 6.6.6버전에는 아무런 코드가 남아 있지 않았다. 무료로 소프트웨어를 배포하지 않을 것이며, 6자리 수준의 연봉을 주거나 구군가 포크해서 대신 쓰라는 말을 남기고 지원을 종료했다. 이에 오픈소스를 무료로 쓰는 현상에 대해 비판하는 진영과, 오픈소스 생태계에 아무런 도움이 되지 않는다면 옳지 않다는 진영으로 나뉘기도 하였다.

프론트엔드 분야는 거의 제로에 가까운 비용으로 애플리케이션을 만들고 배포해 사용할 수 있다. create-react-app의 경우에도 dependencies로 물고 있는 라이브러리는 10개 남짓에 불과하지만 정작 node_modules에 설치되는 라이브러리는 700여개에 이른다. 우리는 이 라이브러리를 모두 무료로 사용하고 있지만, 앞서 살펴본 사례처럼 라이브러리 생태계에 혼란이 올 수 도 있다.

## Jquery, Angular, 리액트, 그리고 다음은?

과거부터 지금 까지 흐름을 살펴보면

- 제이쿼리(2006) : js의 다양한 코드를 $로 시작하는 단순한 코드로 작성할 수 있게 도와주었다.
- Backbone(2010) : 싱글 페이지 애플리케이션을 개발하기 위한 가벼운 도구
- AngularJS(2010) : 양방향 바인딩을 바탕으로 동적 웹 애플리케이션 개발을 더 손쉽게 만들어줌.
- Ember(2011) : 확장성 있는 싱글 페이지 애플리케이션을 만들기 위해 설계
- React(2013) : 사용자 인터페이스를 만들기 위한 js라이브러리
- Vue(2014) : 웹 애플리케이션의 사용자 인터페이스를 만들기 위해 사용하는 프로그레시브 자바스크립트 프레임워크(사실 React보다 먼저 나왔지만 리액트가 함수형 컴포넌트를 기반으로 업데이트 후 react가 vue를 앞서가기 시작했다. 이를 의식했는지 vue3가 업데이트 될 당시 react와 방향성이 비슷해졌다.)
- Angular(2016) : AngularJs의 완전히 새로운 버전
- Svelete(2016) : 사용자 인터페이스를 구축하기 위해 브라우저에서 작업하는 대신 앱을 빌드할 때 컴파일 단계에서 작업하는 새로운 개념을 도입
- Preact(2018) : 리액트와 거의 동일한 API를 제공하지만 3kB밖에 되지 않는 경량화된 버전
- Alpine.js(2019) : 마크업에서 직접 작동하기 위한 최소한의 도구로 구성

js로 웹개발을 하기 위해 수많은 프레임워크가 등장하는 가운데 리액트는 그 중 가장 많이 사용되는 도구 중 하나지만, 여러 부정적인 의견 또한 등장하고 있으며, 이를 틈타 svelete에 대한 관심이 떠오르고 있는 추세다.

한 가지 확실한 사실은 어떤 기술을 사용하든 간에 프론트엔드 앱을 만들기 위해서는 HTML, CSS그리고 JS가 토대가 된다는 것이다. 물론 최근에는 느린 자바스크립트의 대안으로 웹어셈블리가 떠오르고 있다. C, C++, 러스트 등 같은 시스템 프로그래밍언어를 웹에서 사용하는 것이다.

마지막으로 리액트로 마무리하자면, 리액트라는 라이브러리가 언제까지고 계속 시장을 지배하리라는 것은 아무도 보장할 수 없다. 리액트가 과거의 다른 프레임워크에 비해 조금 더 많은 인기와 전성기를 구가하는 것은 사실이지만 모든 웹 애플리케이션이 리액트로 통일되는 미래가 오지는 않을 것이다. 그렇기 때문에 `한가지 라이브러리나 프레임워크에 국한 되지 말고 유연하게 어떤 기술에서든 두려움 없이 개발할 수 있는 개발자`가 되어야 한다.
