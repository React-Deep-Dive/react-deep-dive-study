# 모리딥 6장

## 리액트 개발 도구로 디버깅하기

### React-dev-tools

리액트 팀에서 원활하게 리액트 앱 개발을 위해 제공하는 개발 도구이다. 브라우저 extension으로 설치하여 편하게 사용이 가능하다.

<br/>

### component

![스크린샷 2024-03-01 오후 6.30.19.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/2bf578fe-290f-41be-a8a9-52678e3298dd/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_6.30.19.png)

현재 리액트 앱에서 컴포넌트 트리를 볼 수 있으며, props와 state등 다양한 정보 확인이 가능하다.

컴포넌트가 익명 함수로 선언돼 있으면 Anonymous라는 이름으로 보여준다.

![스크린샷 2024-03-01 오후 6.31.47.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/808bb534-b596-43d0-bdb7-0f68b0af841d/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_6.31.47.png)

(memo로 감싼 익명함수는 옆에 memo가 표시된다.)

이후 리액트 16.9부터는 Anonymous컴포넌트가 아닌 \_C3, \_C5 등으로 좀 더 알아 볼 수 있는 key값 형태로 변경되긴 했다.

<br/>

### props, hooks

왼쪽 컴포넌트 트리에서 컴포넌트를 선택했을 때 자세한 정보를 보여준다.

![스크린샷 2024-03-01 오후 6.34.06.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/8bcec157-2772-418b-b328-5c58d89654f7/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_6.34.06.png)

컴포넌트에서 사용중인 훅 정보를 확인 할 수 있는데, 여기서는 use라는 명칭이 사라진 체 표시된다.

![스크린샷 2024-03-01 오후 6.35.34.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/2535e842-60f4-4d33-b9b5-33191dc43186/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_6.35.34.png)

hook내부에 콜백 되는 함수 등도 살펴 볼 수 있다.

<br/>

### 프로파일러

지금까지는 컴포넌트 자체 내용을 디버깅하는 것을 살펴봤지만, 렌더링과정에서는 성능을 체크할 수 있는 기술을 프로파일러에서 살펴볼 수 있다.

주의해야 할 점은 렌더링 과정에서 디버깅에 필요한 내용을 기록해야 하기 때문에 프로덕션 빌드로 실행 리액트 앱은 사용이 불가능 하다.

![스크린샷 2024-03-02 오후 3.22.46.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/5ed7154d-cb9e-458e-b4d3-453210f9a58f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.22.46.png)

프로파일링 도구..

![스크린샷 2024-03-02 오후 3.24.15.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/796c68eb-c63f-4931-ae35-e2745f9f9b19/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.24.15.png)

위의 이 버튼 들을 통해 기록하거나 저장할 수 있다.

<br/>

### FlameGraph

![스크린샷 2024-03-02 오후 3.25.07.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/e33a0225-8888-4a06-afd4-3619550c89ce/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.25.07.png)

이 버튼을 통해 렌더 커밋별로 어떤 작업이 일어났는지 나타낸다.

![스크린샷 2024-03-02 오후 3.26.11.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/51c72994-46e0-4966-8563-88a359445e8b/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.26.11.png)

위의 컴포넌트 너비가 넓을 수록 렌더링이 오래걸리는 것을 의미한다. 또한 렌더링관련 정보도 가져올 수 있다.

![스크린샷 2024-03-02 오후 3.37.38.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/ea3ac9e3-1aea-41c7-a575-e6b929d0680a/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.37.38.png)

책의 내용 중 노란색에 가까울수록 렌더링에 오래 걸린 컴포넌트다. 라는 말이 있는데 약간 오해를 살 수 있는 포인트가 있을 수 도 있다고 생각했다. 18.1ms라는 렌더링 시간 중에 코드가 얼마나 실행되는 시간에 따라 오래 소요되면 노란색 막대로 보이게 되는 것 같다!

(이는 바로 다음에 알아볼 ranked메뉴에서 확인가능하다.)

<br/>

### ranked

![스크린샷 2024-03-02 오후 3.40.11.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/09f86961-81de-4ecf-81bb-717ca94c75e6/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.40.11.png)

해당 커밋에서 렌더링하는데 오랜 시간이 걸린 컴포넌트를 순서대로 나열한 그래프다.

<br/>

### TimeLine

![스크린샷 2024-03-02 오후 3.42.14.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f67f7c5d-2ebc-471c-9cba-9ca978e99548/102cfbbe-6b14-447a-bffd-71d079b092db/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-03-02_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.42.14.png)

마지막으로 타임라인은 시간이 지남에 따라 컴포넌트에서 어떤 일이 일어났는지를 알 수 있다.

이 타임라인 같은 경우 리액트 18이상에서만 확인 할 수 있다.

확인할 수 있는 점

- 상태변화 및 업데이트 시기
- 무엇이 렌더링 되었는지와 시점
- 리액트의 유휴 시간
